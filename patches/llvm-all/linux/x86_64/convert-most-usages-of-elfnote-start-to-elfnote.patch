From c58ec05c078a0349aaf6cb677414d5c4b735ba1d Mon Sep 17 00:00:00 2001
From: Ilie Halip <ilie.halip@gmail.com>
Date: Thu, 5 Mar 2020 14:51:08 +0200
Subject: [PATCH] elfnote: convert most usages of ELFNOTE_START() to ELFNOTE()

These usages can be converted into one-liners.

Signed-off-by: Ilie Halip <ilie.halip@gmail.com>
---
 arch/arm64/kernel/vdso/note.S      | 4 +---
 arch/mips/vdso/elf.S               | 4 +---
 arch/nds32/kernel/vdso/note.S      | 4 +---
 arch/s390/kernel/vdso64/note.S     | 4 +---
 arch/sparc/vdso/vdso-note.S        | 4 +---
 arch/sparc/vdso/vdso32/vdso-note.S | 4 +---
 arch/x86/entry/vdso/vdso-note.S    | 4 +---
 arch/x86/entry/vdso/vdso32/note.S  | 4 +---
 arch/x86/um/vdso/vdso-note.S       | 4 +---
 9 files changed, 9 insertions(+), 27 deletions(-)

diff --git a/arch/arm64/kernel/vdso/note.S b/arch/arm64/kernel/vdso/note.S
index 080fe6c61d3a6..7f077bdfd0a5c 100644
--- a/arch/arm64/kernel/vdso/note.S
+++ b/arch/arm64/kernel/vdso/note.S
@@ -13,8 +13,6 @@
 #include <linux/elfnote.h>
 #include <linux/build-salt.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
 
 BUILD_SALT
diff --git a/arch/mips/vdso/elf.S b/arch/mips/vdso/elf.S
index 76a543df664d9..72efd419a38d3 100644
--- a/arch/mips/vdso/elf.S
+++ b/arch/mips/vdso/elf.S
@@ -11,9 +11,7 @@
 #include <linux/elfnote.h>
 #include <linux/version.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
 
 /*
  * The .MIPS.abiflags section must be defined with the FP ABI flags set
diff --git a/arch/nds32/kernel/vdso/note.S b/arch/nds32/kernel/vdso/note.S
index fbf9175e31ab2..7a7d53b6c16a5 100644
--- a/arch/nds32/kernel/vdso/note.S
+++ b/arch/nds32/kernel/vdso/note.S
@@ -6,6 +6,4 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
diff --git a/arch/s390/kernel/vdso64/note.S b/arch/s390/kernel/vdso64/note.S
index 2eb232beabb73..d5fd5d1718305 100644
--- a/arch/s390/kernel/vdso64/note.S
+++ b/arch/s390/kernel/vdso64/note.S
@@ -8,6 +8,4 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
diff --git a/arch/sparc/vdso/vdso-note.S b/arch/sparc/vdso/vdso-note.S
index d7c90b620c679..0d0eeffc6d396 100644
--- a/arch/sparc/vdso/vdso-note.S
+++ b/arch/sparc/vdso/vdso-note.S
@@ -7,6 +7,4 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
diff --git a/arch/sparc/vdso/vdso32/vdso-note.S b/arch/sparc/vdso/vdso32/vdso-note.S
index ebfd87316ccee..748c1908dc4f7 100644
--- a/arch/sparc/vdso/vdso32/vdso-note.S
+++ b/arch/sparc/vdso/vdso32/vdso-note.S
@@ -7,6 +7,4 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long	LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
diff --git a/arch/x86/entry/vdso/vdso-note.S b/arch/x86/entry/vdso/vdso-note.S
index 4798d2f437390..50dffc4e56197 100644
--- a/arch/x86/entry/vdso/vdso-note.S
+++ b/arch/x86/entry/vdso/vdso-note.S
@@ -8,8 +8,6 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
 
 BUILD_SALT
diff --git a/arch/x86/entry/vdso/vdso32/note.S b/arch/x86/entry/vdso/vdso32/note.S
index bb218cb84e4e9..f3759149f5fd3 100644
--- a/arch/x86/entry/vdso/vdso32/note.S
+++ b/arch/x86/entry/vdso/vdso32/note.S
@@ -11,9 +11,7 @@
 /* Ideally this would use UTS_NAME, but using a quoted string here
    doesn't work. Remember to change this when changing the
    kernel's name. */
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
 
 BUILD_SALT
 
diff --git a/arch/x86/um/vdso/vdso-note.S b/arch/x86/um/vdso/vdso-note.S
index d7c90b620c679..dcd71af6bcba8 100644
--- a/arch/x86/um/vdso/vdso-note.S
+++ b/arch/x86/um/vdso/vdso-note.S
@@ -7,6 +7,4 @@
 #include <linux/version.h>
 #include <linux/elfnote.h>
 
-ELFNOTE_START(Linux, 0)
-	.long LINUX_VERSION_CODE
-ELFNOTE_END
+ELFNOTE(Linux, 0, .long LINUX_VERSION_CODE)
\ No newline at end of file
